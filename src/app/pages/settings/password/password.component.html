<div class="password-settings">
    <div class="section-header">
        <h3>Cambiar contraseña</h3>
        <p>Actualiza tu contraseña para mantener tu cuenta segura</p>
    </div>
    
    <form class="password-form" method="post" [formGroup]="editPassword" (ngSubmit)="onSubmit(editPassword.value)">
        <div class="form-group">
            <label for="actualPass">Contraseña actual</label>
            <input 
                type="password" 
                id="actualPass" 
                placeholder="Ingresa tu contraseña actual"
                formControlName="actualPass">
            @if (submitted() && editPassword.controls['actualPass'].invalid) {
            <div class="errorMessage">
                <i class="fa-solid fa-circle-exclamation"></i>
                @if (editPassword.controls['actualPass'].errors?.['required']) {
                <span>La contraseña actual es obligatoria</span>
                }
            </div>
            }
            @if (conflictActualPass()) {
            <div class="errorMessage">
                <i class="fa-solid fa-circle-exclamation"></i>
                <span>La contraseña es incorrecta</span>
            </div>
            }
        </div>
        
        <div class="form-group">
            <label for="newPass">Nueva contraseña</label>
            <input 
                type="password" 
                id="newPass" 
                placeholder="Ingresa tu nueva contraseña"
                formControlName="newPass">
            <div class="password-info">
                <i class="fa-solid fa-circle-info"></i>
                <span>Mínimo 8 caracteres, incluye mayúsculas, minúsculas y números</span>
            </div>
            @if (submitted() && editPassword.controls['newPass'].invalid) {
            <div class="errorMessage">
                <i class="fa-solid fa-circle-exclamation"></i>
                @if (editPassword.controls['newPass'].errors?.['required']) {
                <span>La nueva contraseña es obligatoria</span>
                }
                @if (editPassword.controls['newPass'].errors?.['pattern']) {
                <span>La contraseña no cumple con los requisitos de seguridad</span>
                }
            </div>
            }
        </div>
        
        <div class="form-actions">
            <button type="submit" class="btn-save">
                Cambiar contraseña
            </button>
        </div>
    </form>
</div>
<app-toast-notification />